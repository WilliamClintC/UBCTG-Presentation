
---
class: part-slide

# Fondamentaux "<i class="fab fa-r-project"></i> base"<br>Noms et Valeurs

---

# Affectation

```{r, eval = FALSE}
x <- c(1, 2, 3)
```

"Crée un objet nommé 'x', contenant les valeurs 1, 2 et 3" ou plus précisément&nbsp;:

* Crée un objet de type vecteur `c(1, 2, 3)`.

* Associe cet objet à un nom `x`.

---

# Affectation

```{r}
x <- c(1, 2, 3)
y <- x
```

```{r}
lobstr::obj_addr(x)
lobstr::obj_addr(y)
```

`y` n'est pas une copie de `x`.
`x` et `y` sont des références à l'objet de type vecteur `c(1, 2, 3)`.

---

# Noms Non-syntaxique

<i class="fab fa-r-project"></i> dispose d'un ensemble de règles pour les noms utilisables&nbsp;:

* Contient uniquement des lettres (ASCII, mais pas uniquement), des chiffres, `.` et `_`.

* Ne peut pas débuter par des chiffres ou `_`.

* Ne peut pas être un "nom réservé" (`?Reserved`).

---

# Noms Non-syntaxique

```{r}
_abc <- 1
```

```{r}
TRUE <- "false"
```

```{r}
`_abc` <- 1
```

```{r}
`+` <- 1
```

---

# Exercices

1. Expliquer les relations entre `a`, `b`, `d`, et `e`.
    ```{r, eval = FALSE}
    a <- 1:10
    b <- a
    b -> e
    e <- d <- 1:10
    ```

2. Que donne le code suivant pour importer un "fichier" csv&nbsp;?
    Quel argument faudrait-il utiliser pour avoir les noms des colonnes tels-qu'ils sont&nbsp;?
    ```{r, eval = FALSE}
    read.csv(
      header = TRUE,
      text = "1ere_colonne,deuxième_colonne,troisième colonne\n1,2,3"
    )
    ```

3. Les fonctions `read.*()` utilisent `make.names()`&nbsp;? Quels sont les règles de conversions utilisées&nbsp;?

---

# Copie sur Modification ("Copy-on-modify")

```{r}
x <- c(1, 2, 3)
y <- x

y[3] <- 4
x
y
```

La modification de `y` n'a pas modifié `x`.
<i class="fab fa-r-project"></i> crée une copie de l'objet référencé par `x` en modifiant la troisième valeur.
Ce nouvel objet est ensuite référencé par `y`.

---

# Déréférencement et "Garbage Collection"

```{r}
x <- 1:3
x <- 2:4

rm(x) # Déréférencement

gc() # Force "Garbage Collection"
```

---

# Exercices

1. À quelle ligne, une copie de `a` est effectuée&nbsp;?
    ```{r}
    a <- c(1, 5, 3, 2)
    b <- a
    b[[1]] <- 10
    ```
